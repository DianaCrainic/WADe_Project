# https://doacc.github.io/doacc.xml#ProtectionScheme
type ProtectionScheme {
    description: String
}

# https://doacc.github.io/doacc.xml#DistributionScheme
type DistributionScheme {
    description: String
}

type PriceData {
    currency: String!
    timestamp: Float!
    value: Float!
}

# https://doacc.github.io/doacc.xml#Cryptocurrency
type Cryptocurrency {
    id: ID!
    symbol: String!
    description: String
    blockReward: String
    blockTime: Int
    totalCoins: String
    dateFounded: String
    source: String
    website: String
    priceHistory: [PriceData!]!
    protectionScheme: ProtectionScheme
    distributionScheme: DistributionScheme
}

type CryptocurrenciesInfo {
    totalCount: Int
}

input CreateCryptocurrencyInput {
    symbol: String!
    description: String
    blockReward: String
    blockTime: Int
    totalCoins: String
    dateFounded: String
    source: String
    website: String
}

input UpdateCryptocurrencyInput {
    id: ID!
    description: String
    blockReward: String
    blockTime: Int
    totalCoins: String
    dateFounded: String
    source: String
    website: String
}

# https://schema.org/NewsArticle
type CryptoNews {
    id: ID!
    title: String! # https://schema.org/headline
    body: String! # https://schema.org/articleBody
    publishedAt: String! # https://schema.org/datePublished
    source: String # https://schema.org/url
    about: [ID!]! 
}

type CryptoNewsInfo {
    totalCount: Int
}

input CreateCryptoNewsInput {
    title: String!
    body: String!
    publishedAt: String!
    source: String
    about: [ID!]!
}

input UpdateCryptoNewsInput {
    id: ID!
    title: String
    body: String
    publishedAt: String!
    source: String
    about: [ID!]
}

type Query {
    cryptocurrency(id: ID!): Cryptocurrency!
    cryptocurrencies(limit: Int, offset: Int, searchText: [String], sortOrder: String, startDate: String, endDate: String): [Cryptocurrency!]!
    cryptocurrenciesInfo(searchText: [String], startDate: String, endDate: String): CryptocurrenciesInfo

    cryptoNews(cryptocurrencyId: ID!, limit: Int, offset: Int): [CryptoNews!]!
    cryptoNewsInfo(cryptocurrencyId: ID!): CryptoNewsInfo
}

type Mutation {
    createCryptocurrency(createCryptocurrencyInput: CreateCryptocurrencyInput!): Cryptocurrency!
    updateCryptocurrency(updateCryptocurrencyInput: UpdateCryptocurrencyInput!): Cryptocurrency!
    removeCryptocurrency(id: ID!): Cryptocurrency!

    createCryptoNews(createCryptoNewsInput: CreateCryptoNewsInput!): CryptoNews!
    updateCryptoNews(updateCryptoNewsInput: UpdateCryptoNewsInput!): CryptoNews!
    removeCryptoNews(id: ID!): CryptoNews!
}